#!/bin/bash

# $1 = module name
# $@ = files to search

if [ $# -lt 1 ]; then
    echo "Usage: $0 <module-name> [files...]"
    exit 1
fi

# Capture the first argument
MODULE_NAME="$1"

shift # Remove the first argument from the list

grep 'export module '"$MODULE_NAME"';' "$@" | cut -f1 -d: